{% load static tailwind_tags %}
<html>
<head>
    {% tailwind_css %}
</head>
<body>

<div class="m-4">
{% for exception in exceptions %}
    <h1 class="text-3xl mt-4">{{ exception.type }}</h1>
    <div class="text-2xl">{{ exception.value }}</div>
    <div class="italic mt-4">{{ parsed_data.request.method }} {{ parsed_data.request.url }}</div><br>

    {% for frame in exception.stacktrace.frames %}
        
        <div class="xl:flex">

        <div class="m-4 bg-slate-100 xl:w-1/2">

            <div class="font-mono">
                <div class="pl-4 pt-2 pb-2 border-b-2 {% if frame.in_app %}bg-slate-300 border-slate-500{% else %}bg-slate-100 border-slate-300{% endif %}">
                    <span class="font-bold">{{ frame.filename }}</span> in <span class="font-bold">{{ frame.function }}</span> line <span class="font-bold">{{ frame.lineno }}</span>.
                </div>

                <ol class="list-decimal ml-16 mt-6 mb-6" start="100">
                {% for line in frame.pre_context %}<li><div class="whitespace-pre w-full">{{ line }} {# leave space to avoid collapse #}</div></li>{% endfor %}
                <li><div class="whitespace-pre font-bold bg-slate-300 w-full">{{ frame.context_line }} {# leave space to avoid collapse #}</div></li>
                {% for line in frame.post_context %}<li><div class="whitespace-pre w-full">{{ line }} {# leave space to avoid collapse #}</div></li>{% endfor %}
                </ol>
            </div>

        </div>
        <div class="m-4 mb-12 p-4 bg-slate-100 xl:w-1/2">
            
            {% for var, value in frame.vars.items %}
            <div class="flex">
                <div class="w-1/4 pl-2 {% if not forloop.counter|divisibleby:2 %}bg-slate-200{% endif %}">{{ var }}</div>
                <div class="w-3/4 {% if not forloop.counter|divisibleby:2 %}bg-slate-200{% endif %}">{{ value }}</div>
            </div>
            {% endfor %} 

        </div>

        </div>

    {% endfor %}

    {% if not forloop.last %}While handling the above exception, yad yad<br>{% endif %}

{% endfor %}
</div>


</body>
</html>
